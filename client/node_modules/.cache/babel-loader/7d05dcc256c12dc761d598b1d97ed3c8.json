{"ast":null,"code":"var _jsxFileName = \"/home/cristian/Documents/attemps-postbac/news-app/client/src/components/register-login/login/Login.js\";\nimport React, { useState } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport Axios from 'axios'; //  --- redux\n\nimport { connect } from 'react-redux';\nimport { decodeTheJWT } from '../../../store/actions/user/user-actions';\n\nfunction Login({\n  decodeTheJWT\n}) {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  const onSubmit = data => {\n    console.log(data);\n    Axios.post('/users/login', data).then(res => {\n      console.log(res.data);\n      const {\n        success,\n        token\n      } = res.data;\n\n      if (success) {\n        localStorage.setItem('token', token);\n        decodeTheJWT(token);\n      }\n    }).catch(err => {});\n  };\n\n  const [pass, setPass] = useState('');\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    tyoe: \"email\",\n    ref: register({\n      required: {\n        value: true,\n        message: 'This field is required.'\n      },\n      pattern: {\n        value: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n        message: 'Enter a valid email.'\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }), errors.email && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 34\n    }\n  }, \" \", errors.email.message, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    ref: register({\n      required: {\n        value: true,\n        message: \"This field is required.\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 37\n    }\n  }, \" \", errors.password.message, \" \")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"submit-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default connect(null, {\n  decodeTheJWT\n})(Login);","map":{"version":3,"sources":["/home/cristian/Documents/attemps-postbac/news-app/client/src/components/register-login/login/Login.js"],"names":["React","useState","useForm","Axios","connect","decodeTheJWT","Login","register","handleSubmit","errors","onSubmit","data","console","log","post","then","res","success","token","localStorage","setItem","catch","err","pass","setPass","required","value","message","pattern","email","password"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useForm } from \"react-hook-form\";\nimport Axios from 'axios';\n\n//  --- redux\nimport { connect } from 'react-redux';\nimport { decodeTheJWT } from '../../../store/actions/user/user-actions';\n\nfunction Login({ decodeTheJWT }) {\n\n  const { register, handleSubmit, errors} = useForm();\n  const onSubmit = data => {\n    console.log(data);\n    Axios.post('/users/login', data)\n      .then((res) => {\n          console.log(res.data);\n          const { success, token } = res.data;\n          if(success) {\n            localStorage.setItem('token', token);\n            decodeTheJWT(token);\n          }\n      })\n      .catch((err) => {});\n  }\n\n  const [pass, setPass] = useState('');\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n\n            <div className=\"\">\n                <label htmlFor=\"email\">Email</label>\n                <input name=\"email\" tyoe=\"email\" ref={register({\n                    required: {\n                        value: true,\n                        message: 'This field is required.'\n                    },\n                    pattern: {\n                        value: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ ,\n                        message: 'Enter a valid email.'\n                    }\n                })} />\n                {errors.email && <span> {errors.email.message} </span>}\n            </div>\n\n            <div className=\"\">\n                <label htmlFor=\"password\">Password</label>\n                <input name=\"password\" type=\"password\" ref={register({\n                    required: {\n                        value: true,\n                        message: \"This field is required.\"\n                    }\n                })} />\n                {errors.password && <span> {errors.password.message} </span>}\n            </div>\n            \n            <input type=\"submit\" className=\"submit-button\" />\n        </form>\n    );\n}\n\nexport default connect(null, { decodeTheJWT })(Login);"]},"metadata":{},"sourceType":"module"}